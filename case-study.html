<!DOCTYPE html>
<html data-wf-page="5f71dd169010d6326b65485d">

<head>
  <meta charset="utf-8" />
  <title>Tapestry • Case Study</title>
  <meta content="width=device-width, initial-scale=1" name="viewport" />
  <link href="assets/css/style.css" rel="stylesheet" type="text/css" />
  <script src="https://ajax.googleapis.com/ajax/libs/webfont/1.6.26/webfont.js" type="text/javascript"></script>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Inter:regular,500,600,700" media="all" />
  <script type="text/javascript">
    WebFont.load({ google: { families: ["Inter:regular,500,600,700"] } });
  </script>
  <script type="text/javascript">
    !(function (o, c) {
      var n = c.documentElement,
        t = " w-mod-";
      (n.className += t + "js"),
        ("ontouchstart" in o ||
          (o.DocumentTouch && c instanceof DocumentTouch)) &&
        (n.className += t + "touch");
    })(window, document);
  </script>
  <link href="assets/images/tapestry_graphic_mono.svg" rel="shortcut icon" type="image/x-icon" />  
  <link href="assets/images/tapestry_graphic_mono.svg" rel="apple-touch-icon" />
  <script src="https://kit.fontawesome.com/d019875f94.js" crossorigin="anonymous"></script>
  <meta name="image" property="og:image" content="assets/images/tapestry_logo_color.svg" />
</head>

<body>
  <div class="navigation-wrap">
    <div data-collapse="medium" data-animation="default" data-duration="400" role="banner" class="navigation w-nav">
      <div class="navigation-container">
        <div class="navigation-left">
          <a href="/" aria-current="page" class="brand w-nav-brand w--current" aria-label="home">
            <img src="assets/images/tapestry_graphic_color.svg" alt="" class="template-logo">
          </a>
          <nav role="navigation" class="nav-menu w-nav-menu">
            <a href="/case-study" class="link-block w-inline-block">
              <div>Case Study</div>
            </a>
            <a href="/presentation" class="link-block w-inline-block">
              <div>Presentation</div>
            </a>
            <a href="/team" class="link-block w-inline-block">
              <div>The Team</div>
            </a>
          </nav>
        </div>
        <div class="navigation-right">
          <div class="login-buttons">
            <a href="" target="_blank">
              <span style="color: #161d6f">
                <i class="fab fa-github fa-lg"></i>
              </span>
            </a>
          </div>
        </div>
      </div>
      <div class="w-nav-overlay" data-wf-ignore="" id="w-nav-overlay-0"></div>
    </div>
  </div>
  <div id="sidebar" class="toc">
  </div>
  <div class="section header">
    <article class="container case-study-container">
      <div class="hero-text-container">
        <h1 class="h1 centered">Case Study</h1>
      </div>
      <div id="case-study">
        <br />
        <br />
        <!-- Section 1 -->
        <h2 class="h2">1 Introduction</h2>
        <br>
        <p>
        As the quantity and diversity of data continues to grow, user data is becoming spread across a variety of third-party services catering to the needs of specific departments within a company (e.g., marketing, customer service, finance, etc.). Unfortunately, this places data in silos, fragmenting what should be a more unified user view. 
        </p>
        <br>
        <p>
        With the advent of the cloud-native data warehouse has come the ability to collect data from disparate sources into one central repository and treat the warehouse as the “single source of truth”.
        </p>
        <br>
        <p>
Data modeling and business intelligence or analytics tools built on top of the warehouse can now offer a consistent view of users. However, mapping this data back into the same third-party tools to impact day-to-day operations is still a huge challenge. In other words, there is a lag between insights and operations.
        </p>
        <br />
        <h3>1.1 What is Tapestry?</h3>
        <p>
          Tapestry is an open source orchestration framework for the deployment of user entity data pipelines. 
        </p>
        <br />
        <p>
          Tapestry allows developers to easily configure and launch an end-to-end data pipeline hosted on Amazon Web Services. With Tapestry, your user data pipeline will be automatically deployed and ready to ingest data from all your user data sources, store and transform that data in a data warehouse, and sync that data back to your data tools for immediate use.
        </p>
        <br />
        <p>
          To illustrate just exactly what Tapestry does, let’s use the example of a company named Rainshield.
        </p>
        <br />
        <h3>1.2 Use Case</h3>
        <figure>
          <img src="assets/images/introduction/4_Rainshield_business.png" class="case-study-image">
        </figure>
        <br />
        <p>
          Rainshield is a company in the umbrella space, with a thriving e-commerce store that is quickly gaining traction amongst a larger user base. This has attracted the interest of investors, and they’ve raised funding that has allowed them to expand.   
        </p>
        <br />
        <p>
          The small team that started Rainshield is no longer able to wear all hats, and they are beginning to staff larger departments, such as sales, marketing and customer support, to manage the influx of new business they’re experiencing.
        </p>
        <br />
        <h3>1.3 SaaS Bloat</h3>
        <figure>
          <img src="assets/images/introduction/5_Rainshield_SaaS.png" class="case-study-image">
        </figure>
        <br /> 
        <p>
          As the business evolves, Rainshield begins to utilize various SaaS tools in order to engage with their user base in new ways and to meet the daily operational needs of different departments. 
        </p>
        <br />
        <p>
          For example, they begin to use Stripe to handle all of their online transactions. The company’s Sales Team has started using Salesforce to organize and track their leads, and the Rainshield customer support team is now incorporating Zendesk to help with managing all of the support tickets that are being generated.The Marketing team is even planning on hosting a Zoom webinar on a design-your-own umbrella product they are about to unveil soon!
        </p>
        <br />
        <p>
          Prior to this growth, user data was largely managed in the production database, however, these teams are not only requiring different views of this data to accomplish their goals, but are also creating new sources of user data as they interact with customers through a variety of platforms and tools. 
        </p>
        <br />
        <h3>1.4 Data Silos</h3>
        <p>While these third-party SaaS tools cater to the needs of each department well, user data is beginning to proliferate the organization, in terms of both the data produced and collected. Data is becoming scattered across the different tools each team is using.
        </p>
        <figure>
          <img src="assets/images/introduction/6_data_silos_gif_alt.gif" class="case-study-image" alt="">
          <figcaption>Data captured by different tools lives in data silos.</figcaption>
        </figure>
        <br/>
        <p>
          These tools were not designed with integration in mind, and it is becoming more challenging to have a unified understanding of a single user and how they are interacting with Rainshield and its product. Each tool has access to only a portion of the customer’s information, but not the whole picture. 
        </p>
        <br/>
        <p>
          These SaaS tools, that have increased productivity, have now become known as data silos. <strong>Data goes in, but doesn’t come out</strong>.
        </p>
        <br/>
        <p>
          The industry agrees that this is a challenge:
        </p>
        <figure>
          <img src="assets/images/introduction/7_colinzima.png" class="case-study-image" alt="">
        </figure>
        <h3>1.5 User Data</h3>
        <p>
          To better understand the ramifications of data silos, let's turn back to our company Rainshield.
        </p>
        <br/>
        <figure>
          <img src="assets/images/introduction/8_Susy.png" class="case-study-image" alt="">
        </figure>
        <p>
          Meet Susy, a Rainshield customer. According to her profile in Salesforce, Susy has purchased 6 umbrellas for her friends and family.  However, Zendesk indicated that she called 2 times complaining about the color of some of her umbrellas. Susy is excited about picking her own umbrella color and is signed up to attend the Zoom webinar unveiling the new design-your-own product. When this data about Susy lives in different tools, it is difficult to access a composite picture of Susy. 
        </p>
        <br/> 
        <h3>1.6 Analyzing and Leveraging User Data</h3>
        <p>
          It's easy to imagine that Rainshield could use many more tools that capture different pieces of user data,and that they might have thousands of different customers buying their umbrellas, some of whom fit Susy’s exact profile. When data can be collected in one place, Rainshield can begin to see patterns among their users.
        </p>
        <figure>
          <img src="assets/images/introduction/9_rainshield_users.png" class="case-study-image" alt="">
          <figcaption>User Insights</figcaption>
        </figure>
        <br/>
        <p> 
          But even with this user data gathered for analysis in one place, how can these insights be used to impact day-to-day operations? 
        </p>
        <figure>
          <img src="assets/images/introduction/10_insights_action.png" class="case-study-image" alt="">
        </figure>
        <p>
          Let’s say Rainshield would like to use what they know about Susy and other customers that match her profile in an attempt to increase sales. They believe that this group of users will be especially interested in the new umbrella colors that Rainshield just rolled out, and they would like to prompt these customers with a custom chat message via Intercom the next time they log on. But before this desired action can take place, Rainshield still needs to provide Intercom with this specific list of customers. In other words, making insights actionable still requires work. Rainshield needs to map relevant user data to Intercom in the particular format that Intercom requires. This process can be thought of as data syncing. 
        </p>
        <br />
        <figure>
          <img src="assets/images/introduction/11_users_to_intercom.png" class="case-study-image" alt="">
          <figcaption>Data Syncing</figcaption>
        </figure>
        <br/>
        <p>
          So let’s take a step back and recap the obstacles that Rainshield and companies like it are facing. Important user data is being trapped in silos as the quantity of Rainshield’s SaaS tools increases. Companies would like to aggregate data from these disparate third-party sources into one location for better analysis. Additionally, they would like to sync relevant data to other third-party destinations to drive operations based on their findings.
        </p>
        <br/>
        <p>But what are the challenges of this type of data integration?</p>
        <br /> 
        <h3>1.7 Challenges of User Data Integration</h3>
        <br /> 
        <p>
          User data stored in SaaS applications is similar in structure to the data we see in traditional relational databases. However, unlike relational databases, data in SaaS applications cannot be accessed with a simple query.  Instead, this data must be retrieved via unique REST APIs, making it difficult to determine how to communicate with each tool. 
        </p>
        <br /> 
        <p>
          Furthermore, factors such as limited documentation, rate limits on API requests, managing potential network errors, and ever-changing API schemas can make transporting large amounts of data a challenging and slow process.
        </p>
        <br/>
        <!-- Section 2 -->
        <h2>2 Existing Solutions</h2>
        <br/>
        <p>
          There are four main options for integrating data between third-party tools:
        </p>
        <br/>
        <p>1. Manually move files between tools</p>
        <p>2. Use pre-built connectors</p>
        <p>3. Create custom connectors</p>
        <p>4. Build a complete data pipeline</p>
        <br/>
        <h3>2.1 Manually Move Files</h3>
        <br/>
        <p>Let’s talk about the first option at Rainshield’s disposal, manually moving files between tools.
        </p>
        <figure>
          <img src="assets/images/solutions/16_csvfile_gif_sm.gif" class="case-study-image" alt="">
          <figcaption>Manual Sync</figcaption>
        </figure>
        <br/>
        <p>
          Let’s say that Rainshield wanted to make sure that SalesForce had all of the contacts from the Zoom webinar revealing the new design-your-own umbrella. 
        </p>
        <br/>
        <p>
          They could simply export the list of webinar attendees from Zoom to a csv file, and then import that file into SalesForce, but this might result in duplicate data and could become tedious if you had to do this task often. 
        </p>
        <br/>
        <h3>2.2 Use Pre-built Connectors</h3>
        <br/>
        <p>
          Another possibility would be to use a company that creates these connectors for you, like Zapier. Rainshield can give them some information about their Zoom and SalesForce accounts, and they set up the flow of data between them for you using pre-built connectors. 
        </p>
        <figure>
          <img src="assets/images/solutions/17_zapier.png" class="case-study-image">
          <figcaption>Zapier's Connectors</figcaption>
        </figure>
        <br/>
        <p>
          This however, would not allow much flexibility regarding which parts of the data would be shared between the two apps, you may still wind up with duplicate data, or you may not find all of the apps you need to integrate together on their menu.
        </p>
        <br/>
        <p>
          Another type of prebuilt connection sometimes exists in certain tool’s settings. For example, Zoom has a way to integrate directly with SalesForce by simply configuring your settings to export your data. This isn’t always the case though, and more than likely, Rainshield will not find every tool it uses in every other tools configuration settings to sync up.
        </p>
        <br/>
        <h3>2.3 Create Custom Connectors</h3>
        <br/>
        <p>
          The third course of action is that Rainshield could designate one or two software engineers to begin building custom connections to pipe data directly into all of the tools they use. The benefit of this option is you can flexibly choose what data to send. However, not only would these engineers have to research these tools’ APIs to extract data, but also to sync data as well. 
        </p>
        <br/>
        <p>
          This might not be too bad if the number of tools the company used was very small. For example, if Rainshield only needed to connect Zoom and Salesforce with Mailchimp, then they may only have to write 6 connectors to ensure they all shared the same data. 
        </p>
        <br/>
        <figure>
          <img src="assets/images/solutions/18_custom_connectors_crop.gif">
          <figcaption>Custom Point-to-Point Integrations</figcaption>
        </figure>
        <br/> 
        <p>
          However, if your company already uses several tools, or plans on growing in the future, this can quickly get out of hand. And this is to say nothing of the fact that these connectors would also have to be maintained. 
        </p>
        <br/> 
        <p>
          If one API changed, every tool that connected to it would also need to be changed. And the reality is that even small companies use anywhere between 10 to 50 tools. That would require a lot of valuable engineering time.
        </p>
        <br/>
        <h3>2.4 Build a Complete Data Pipeline</h3>
        <br/>
        <p>
          Perhaps the best and most complete solution is our last option, implementing an end-to-end user data pipeline, with a  cloud data warehouse at the center. 
        </p>
        <br/>
        <figure>
          <img src="assets/images/solutions/3_pipelineoverviewcolor.png" class="case-study-image">
          <figcaption>User Data Pipeline</figcaption>
        </figure>
        <br/> 
        <p>
          From an engineering perspective, this approach allows access to data ingestion and syncing tools that remove the headache of working with third-party APIs, while also providing you with the flexibility that custom connectors offer, i.e. you choose exactly what data to send. 
        </p>
        <br/>
        <h4>Benefits of Warehouse-Centric Pipelines</h4>
        <figure>
          <img src="assets/images/solutions/19_warehousecenter_gif.gif"">
          <figcaption>Warehouse-Centric Data Integration</figcaption>
        </figure>
        <br/>
        <p>
          Placing a cloud warehouse at the center of your pipeline also provides several other benefits.
        </p>
        <br/>
        <p>
          Cloud data warehouses allow for the storage of large amounts of data with very little infrastructure management and instant scalability. Warehouses may also serve as a “single source of truth” if two departments ever had conflicting data. Additionally, data modeling and analytics tools can be built on top of the warehouse and can aid in making important business intelligence decisions. Lastly, the warehouse offers the ability to combine and filter data from multiple sources in order to sync with another destination.
        </p>
        <br/>
        <p>
          This warehouse-centric pipeline helps aggregate all of your data into one accessible place so you can create unified models and sync them to the tools your teams need. 
        </p>
        <br/>
        <p>The industry agrees this is what the modern data stack should be.</p>
        <figure>
          <img src="assets/images/solutions/20_rudderstackquote.png" class="case-study-image" alt="">
        </figure>
        <br/>
        <h3>2.5 Data Pipeline Solutions</h3>
        <br/>
        <p>
          When deploying this type of user data pipeline, the two primary options are to use a proprietary hosted solution, such as the one offered by the company Rudderstack, or to use open source tools to configure your own pipeline. 
        </p>
        <figure>
          <img src="assets/images/solutions/21_rudderstack_v_selfhosted.png" class="case-study-image" alt="">
        </figure>
        <p>
          The self-hosted option allows for the inclusion of fully open-source tools and grants you full ownership over your pipeline infrastructure. This means you can customize it any way you like. But this solution doesn’t have any out-of-the-box features and would require a substantial amount of engineering time.
        </p>
        <br/> 
        <p>
          Rudderstack, on the other hand, only offers open-source event streaming, and also requires you to to use their infrastructure, leaving you with little control. However, they provide a ton of features and also abstract away ALL of the infrastructure provisioning and management, making it extremely easy to deploy a user data pipeline quickly.  
        </p>
        <br/>
        <h4>Challenges of Pipeline Deployment</h4>
        <br/>
        <p>
          Building your own pipeline requires an extraordinary amount of time and effort to set up, provision, and configure. 
        </p>
        <br/>
        <p>
          You need to make many different decisions about which tools to use for data ingestion and syncing and which warehouse to select,  and that’s not even mentioning all that goes into provisioning and maintaining pipeline infrastructure. To say the least, this is an extremely complex process.
        </p>
        <br/>
        <h3>2.6 Who Should Use Tapestry</h3>
        <br/>
        <figure>
          <img src="assets/images/solutions/23_tapestry_comparision.png" alt="">
        </figure>
        <br/>
        <p>
          Tapestry weaves together all of the necessary resources to create an end-to-end user data pipeline, automate the setup and configuration, and let you spend your valuable time doing something more important.
        </p>
        <br/>
        <p>
          Tapestry is for developers who want full control over their data infrastructure, BUT without having to provision that infrastructure themselves. Tapestry is a completely open-source framework that automates the entire pipeline deployment process. We do not, however, have very many out of the box features.
        </p>
        <br/>
        <p>
          So if you were thinking about rolling your own self-hosted solution, but wanted to simplify the deployment process, we might be able to help.
        </p>
        <br/>
        <h4>What Tapestry Automates</h4>
        <figure>
          <img src="assets/images/solutions/24_automation_chart.png" class="case-study-image" alt="">
        </figure>
        <p>
          Tapestry automates many steps and creates a number of resources for each phase of the pipeline. As you can see, deploying your own user data pipeline would require at least 71 steps and the provisioning of 49 Resources between AWS and the data warehouse. 
        </p>

        <!-- Section 7 -->
        <h2>7 Team</h2>
        <br>
        <br>
        
        <div class="section team-section">
          <div class="container">
            <div data-duration-in="300" data-duration-out="100" class="tabs w-tabs">
              <div data-w-id="8ce4324a-ed8e-4436-9964-0cfbaf67c64a" style="transform: translate3d(0px, 55px, 0px) scale3d(1, 1, 1) rotateX(0deg) rotateY(0deg) rotateZ(0deg) skew(0deg, 0deg); transform-style: preserve-3d; opacity: 0;" class="tabs-content w-tab-content">
                <div>
                  <div class="team-grid">
                    <div class="team-member-wrap">
                      <img src="assets/images/team/katherine.png" loading="lazy" alt="">
                      <div class="team-member-info">
                        <div class="team-member-name">Katherine Beck</div>
                        <div class="team-member-location">Los Angeles, CA</div>
                      </div>
                      <ul class="team-member-icons">
                        <li>
                          <a href="mailto:katherine.murphy.beck@gmail.com" target="_blank">
                            <span class="team-member-icon">
                            <i class="fas fa-envelope"></i>
                            </span>
                          </a>
                         </li>
                        <li>
                          <a href="https://katherinebeck.me" target="_blank">
                            <span class="team-member-icon">
                            <i class="fas fa-globe"></i>
                            </span>
                          </a>
                         </li>
                        <li>
                          <a href="https://www.linkedin.com/in/katherine-murphy-beck-3849539/" target="_blank">
                            <span class="team-member-icon">
                            <i class="fab fa-linkedin"></i>
                            </span>
                          </a>
                         </li>
                      </ul>
                    </div>
                    <div class="team-member-wrap">
                      <img src="assets/images/team/leah.png" loading="lazy" alt="">
                      <div class="team-member-info">
                        <div class="team-member-name">Leah Garrison</div>
                        <div class="team-member-location">Atlanta, GA</div>
                      </div>
                      <ul class="team-member-icons">
                        <li>
                          <a href="mailto:lgarrison1023@gmail.com" target="_blank">
                            <span class="team-member-icon">
                            <i class="fas fa-envelope"></i>
                            </span>
                          </a>
                         </li>
                        <li>
                          <a href="https://leahgarrison.com" target="_blank">
                            <span class="team-member-icon">
                            <i class="fas fa-globe"></i>
                            </span>
                          </a>
                         </li>
                        <li>
                          <a href="https://www.linkedin.com/in/leahgarrison/" target="_blank">
                            <span class="team-member-icon">
                            <i class="fab fa-linkedin"></i>
                            </span>
                          </a>
                         </li>
                      </ul>
                    </div>
                    <div class="team-member-wrap">
                      <img src="assets/images/team/rick.png" loading="lazy" alt="">
                      <div class="team-member-info">
                        <div class="team-member-name">Rick Molé</div>
                        <div class="team-member-location">Newy York, NY</div>
                      </div>
                      <ul class="team-member-icons">
                        <li>
                          <a href="mailto:ramole507@gmail.com" target="_blank">
                            <span class="team-member-icon">
                            <i class="fas fa-envelope"></i>
                            </span>
                          </a>
                         </li>
                        <li>
                          <a href="" target="_blank">
                            <span class="team-member-icon">
                            <i class="fas fa-globe"></i>
                            </span>
                          </a>
                         </li>
                        <li>
                          <a href="https://www.linkedin.com/in/rick-mole-8b756139/" target="_blank">
                            <span class="team-member-icon">
                            <i class="fab fa-linkedin"></i>
                            </span>
                          </a>
                         </li>
                      </ul>
                    </div>
                    <div class="team-member-wrap">
                      <img src="assets/images/team/adam.png" loading="lazy" alt="">
                      <div class="team-member-info">
                        <div class="team-member-name">Adam Peterson</div>
                        <div class="team-member-location">Lexington, KY</div>
                      </div>
                      <ul class="team-member-icons">
                        <li>
                          <a href="mailto:adamp113@gmail.com" target="_blank">
                            <span class="team-member-icon">
                            <i class="fas fa-envelope"></i>
                            </span>
                          </a>
                         </li>
                        <li>
                          <a href="" target="_blank">
                            <span class="team-member-icon">
                            <i class="fas fa-globe"></i>
                            </span>
                          </a>
                         </li>
                        <li>
                          <a href="https://www.linkedin.com/in/adam-peterson-211a1041/" target="_blank">
                            <span class="team-member-icon">
                            <i class="fab fa-linkedin"></i>
                            </span>
                          </a>
                         </li>
                      </ul>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
    </article>
    <script src="https://d3e54v103j8qbb.cloudfront.net/js/jquery-3.5.1.min.dc5e7f18c8.js?site=5f71dd169010d641cf65485c"
      type="text/javascript" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
      crossorigin="anonymous"></script>
    <script src="https://assets.website-files.com/5f71dd169010d641cf65485c/js/webflow.6af2032ff.js"
      type="text/javascript"></script>
    <script>
      /*!
       * toc - jQuery Table of Contents Plugin
       * v0.3.2
       * http://projects.jga.me/toc/
       * copyright Greg Allen 2014
       * MIT License
      */
      !function (a) { a.fn.smoothScroller = function (b) { b = a.extend({}, a.fn.smoothScroller.defaults, b); var c = a(this); return a(b.scrollEl).animate({ scrollTop: c.offset().top - a(b.scrollEl).offset().top - b.offset }, b.speed, b.ease, function () { var a = c.attr("id"); a.length && (history.pushState ? history.pushState(null, null, "#" + a) : document.location.hash = a), c.trigger("smoothScrollerComplete") }), this }, a.fn.smoothScroller.defaults = { speed: 400, ease: "swing", scrollEl: "body,html", offset: 0 }, a("body").on("click", "[data-smoothscroller]", function (b) { b.preventDefault(); var c = a(this).attr("href"); 0 === c.indexOf("#") && a(c).smoothScroller() }) }(jQuery), function (a) { var b = {}; a.fn.toc = function (b) { var c, d = this, e = a.extend({}, jQuery.fn.toc.defaults, b), f = a(e.container), g = a(e.selectors, f), h = [], i = e.activeClass, j = function (b, c) { if (e.smoothScrolling && "function" == typeof e.smoothScrolling) { b.preventDefault(); var f = a(b.target).attr("href"); e.smoothScrolling(f, e, c) } a("li", d).removeClass(i), a(b.target).parent().addClass(i) }, k = function () { c && clearTimeout(c), c = setTimeout(function () { for (var b, c = a(window).scrollTop(), f = Number.MAX_VALUE, g = 0, j = 0, k = h.length; k > j; j++) { var l = Math.abs(h[j] - c); f > l && (g = j, f = l) } a("li", d).removeClass(i), b = a("li:eq(" + g + ")", d).addClass(i), e.onHighlight(b) }, 50) }; return e.highlightOnScroll && (a(window).bind("scroll", k), k()), this.each(function () { var b = a(this), c = a(e.listType); g.each(function (d, f) { var g = a(f); h.push(g.offset().top - e.highlightOffset); var i = e.anchorName(d, f, e.prefix); if (f.id !== i) { a("<span/>").attr("id", i).insertBefore(g) } var l = a("<a/>").text(e.headerText(d, f, g)).attr("href", "#" + i).bind("click", function (c) { a(window).unbind("scroll", k), j(c, function () { a(window).bind("scroll", k) }), b.trigger("selected", a(this).attr("href")) }), m = a("<li/>").addClass(e.itemClass(d, f, g, e.prefix)).append(l); c.append(m) }), b.html(c) }) }, jQuery.fn.toc.defaults = { container: "body", listType: "<ul/>", selectors: "h1,h2,h3", smoothScrolling: function (b, c, d) { a(b).smoothScroller({ offset: c.scrollToOffset }).on("smoothScrollerComplete", function () { d() }) }, scrollToOffset: 0, prefix: "toc", activeClass: "toc-active", onHighlight: function () { }, highlightOnScroll: !0, highlightOffset: 100, anchorName: function (c, d, e) { if (d.id.length) return d.id; var f = a(d).text().replace(/[^a-z0-9]/gi, " ").replace(/\s+/g, "-").toLowerCase(); if (b[f]) { for (var g = 2; b[f + g];)g++; f = f + "-" + g } return b[f] = !0, e + "-" + f }, headerText: function (a, b, c) { return c.text() }, itemClass: function (a, b, c, d) { return d + "-" + c[0].tagName.toLowerCase() } } }(jQuery);
    </script>
    <script>
      /* initialize */
      $('.toc').toc({
        'selectors': 'h2', //elements to use as headings
        'container': 'article', //element to find all selectors in
        'smoothScrolling': true, //enable or disable smooth scrolling on click
        'prefix': 'toc', //prefix for anchor tags and class names
        'highlightOnScroll': true, //add class to heading that is currently in focus
        'highlightOffset': 100, //offset to trigger the next headline
      });
    </script>
</body>

</html>